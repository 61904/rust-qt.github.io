<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Getting started - Ritual</title><meta name=description content="Use C++ libraries from Rust"><meta name=generator content="Hugo 0.66.0"><link href=https://rust-qt.github.io/index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://rust-qt.github.io/qt/getting_started/><link rel=stylesheet href=https://rust-qt.github.io/css/theme.min.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script><link rel=stylesheet href=https://rust-qt.github.io/css/chroma.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script><script src=https://rust-qt.github.io/js/bundle.js></script><style>:root{}</style><meta property="og:title" content="Getting started"><meta property="og:description" content="To use Qt from Rust, add the crates as dependencies to your Cargo.toml, for example:
[dependencies] qt_widgets = &#34;0.5&#34; Each crate re-exports its dependencies, so, for example, you can access qt_core as qt_widgets::qt_core without adding an explicit dependency. You can also add them as direct dependencies for convenience, but make sure to use compatible versions.
See rust-qt/examples repository to see how to use the API provided by Qt crates.
Most of the Qt API is translated to Rust as-is when possible."><meta property="og:type" content="article"><meta property="og:url" content="https://rust-qt.github.io/qt/getting_started/"><meta property="og:image" content="https://rust-qt.github.io/images/og-image.png"><meta property="og:site_name" content="Ritual"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rust-qt.github.io/images/og-image.png"><meta name=twitter:title content="Getting started"><meta name=twitter:description content="To use Qt from Rust, add the crates as dependencies to your Cargo.toml, for example:
[dependencies] qt_widgets = &#34;0.5&#34; Each crate re-exports its dependencies, so, for example, you can access qt_core as qt_widgets::qt_core without adding an explicit dependency. You can also add them as direct dependencies for convenience, but make sure to use compatible versions.
See rust-qt/examples repository to see how to use the API provided by Qt crates.
Most of the Qt API is translated to Rust as-is when possible."><meta itemprop=name content="Getting started"><meta itemprop=description content="To use Qt from Rust, add the crates as dependencies to your Cargo.toml, for example:
[dependencies] qt_widgets = &#34;0.5&#34; Each crate re-exports its dependencies, so, for example, you can access qt_core as qt_widgets::qt_core without adding an explicit dependency. You can also add them as direct dependencies for convenience, but make sure to use compatible versions.
See rust-qt/examples repository to see how to use the API provided by Qt crates.
Most of the Qt API is translated to Rust as-is when possible."><meta itemprop=wordCount content="311"><meta itemprop=image content="https://rust-qt.github.io/images/og-image.png"><meta itemprop=keywords content></head><body><div class=container><header><h1><a href=/>Ritual</a></h1><a href=https://github.com/rust-qt/ritual class=github><i class="fab fa-github"></i></a><p class=description>Use C++ libraries from Rust</p></header><div class=global-menu><nav><ul><li><a href=/ritual/>About Ritual</a></li><li><a href=/qt/>Rust + Qt guide</a></li><li><a href=/blog/>Blog</a></li></ul></nav></div><div class=content-container><main><h1>Getting started</h1><p>To use Qt from Rust, add the crates as dependencies to your <code>Cargo.toml</code>, for example:</p><div class=highlight><pre class=chroma><code class=language-ini data-lang=ini><span class=k>[dependencies]</span>
<span class=na>qt_widgets</span> <span class=o>=</span> <span class=s>&#34;0.5&#34;</span>
</code></pre></div><p>Each crate re-exports its dependencies, so, for example, you can access <code>qt_core</code> as <code>qt_widgets::qt_core</code> without adding an explicit dependency. You can also add them as direct dependencies for convenience, but make sure to use compatible versions.</p><p>See <a href=https://github.com/rust-qt/examples>rust-qt/examples</a> repository to see how to use the API provided by Qt crates.</p><p>Most of the Qt API is translated to Rust as-is when possible. Identifiers are modified according to Rust&rsquo;s naming convention. Overloaded methods (methods accepting multiple sets of argument types) are wrapped as distinct Rust methods with suffixes that distinguish between them.</p><p>In many cases, you can address the Qt documentation and translate examples from it almost directly to Rust code. Crate documentation (available on <a href=https://docs.rs/qt_core/>docs.rs</a> or through <code>cargo doc</code>) features embedded Qt documentation.</p><p>In addition, Rust crates provide some helpers to improve ergonomics:</p><p>Qt application objects (<code>QApplication</code>, <code>QGuiApplication</code>, <code>QCoreApplication</code>) require <code>argc</code> and <code>argv</code> to be present, and these are not available directly in Rust. Use <code>init</code> helpers to initialize the application correctly:</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>fn</span> <span class=nf>main</span><span class=p>()</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>    </span><span class=n>QApplication</span>::<span class=n>init</span><span class=p>(</span><span class=o>|</span><span class=n>app</span><span class=o>|</span><span class=w> </span><span class=k>unsafe</span><span class=w> </span><span class=p>{</span><span class=w>
</span><span class=w>        </span><span class=c1>//...
</span><span class=c1></span><span class=w>    </span><span class=p>})</span><span class=w>
</span><span class=w></span><span class=p>}</span><span class=w>
</span></code></pre></div><p><code>qt_core</code> provides API for using signals and slots conveniently. You can connect built-in signals to built-in slots like this:</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=kd>let</span><span class=w> </span><span class=k>mut</span><span class=w> </span><span class=n>timer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>QTimer</span>::<span class=n>new_0a</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=n>timer</span><span class=p>.</span><span class=n>timeout</span><span class=p>().</span><span class=n>connect</span><span class=p>(</span><span class=n>app</span><span class=p>.</span><span class=n>slot_quit</span><span class=p>());</span><span class=w>
</span></code></pre></div><p>You can also connect signals to Rust closures (see <a href=https://github.com/rust-qt/examples/blob/master/widgets/basic_form/src/main.rs>basic_form example</a>:</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=kd>let</span><span class=w> </span><span class=n>button_clicked</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>SlotNoArgs</span>::<span class=n>new</span><span class=p>(</span><span class=n>NullPtr</span><span class=p>,</span><span class=w> </span><span class=k>move</span><span class=w> </span><span class=o>||</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>...</span><span class=w> </span><span class=p>});</span><span class=w>
</span><span class=w></span><span class=n>button</span><span class=p>.</span><span class=n>clicked</span><span class=p>().</span><span class=n>connect</span><span class=p>(</span><span class=o>&amp;</span><span class=n>button_clicked</span><span class=p>);</span><span class=w>
</span></code></pre></div><p>You can also create and emit signals:</p><div class=highlight><pre class=chroma><code class=language-rust data-lang=rust><span class=k>use</span><span class=w> </span><span class=n>qt_core</span>::<span class=p>{</span><span class=n>QTimer</span><span class=p>,</span><span class=w> </span><span class=n>SignalOfInt</span><span class=p>};</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>signal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>SignalOfInt</span>::<span class=n>new</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=kd>let</span><span class=w> </span><span class=n>timer</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>QTimer</span>::<span class=n>new_0a</span><span class=p>();</span><span class=w>
</span><span class=w></span><span class=n>signal</span><span class=p>.</span><span class=n>connect</span><span class=p>(</span><span class=n>timer</span><span class=p>.</span><span class=n>slot_start</span><span class=p>());</span><span class=w>
</span><span class=w></span><span class=n>signal</span><span class=p>.</span><span class=n>emit</span><span class=p>(</span><span class=mi>100</span><span class=p>);</span><span class=w>
</span></code></pre></div><p>Compatibility of signal&rsquo;s and slot&rsquo;s arguments is checked at compile time.</p><p>Note that each set of argument types requires a separate Rust type of signal or slot (e.g. <code>SlotNoArgs</code>, <code>SlotOfInt</code>, etc.). Other crates may also provide new signal and slot objects (e.g. <code>qt_widgets::SlotOfQTreeWidgetItem</code>).</p><p><code>QString::from_std_str</code>, <code>QString::to_std_string</code>, <code>QByteArray::from_slice</code>, and <code>impl&lt;'a> From&lt;&'a QString> for String</code> provide conversions from Qt&rsquo;s types to Rust types and back.</p><p><code>QFlags</code> generic type mimics the functionality of C++'s <code>QFlags</code> class.</p><p><code>qdbg</code> function from <code>qt_core</code> wraps a printable (with <code>QDebug</code>) Qt object into a shim object that implements Rust&rsquo;s <code>fmt::Debug</code>.</p><div class=edit-meta><a href=https://github.com/rust-qt/rust-qt.github.io/edit/source/content/qt/getting_started.md class=edit-page><i class="fas fa-pen-square"></i>Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://rust-qt.github.io/qt/setting_up/ title="Setting up"><i class="fas fa-arrow-left" aria-hidden=true></i>Prev - Setting up</a>
<a class="nav nav-next" href=https://rust-qt.github.io/qt/smart_pointers/ title="Smart pointers">Next - Smart pointers <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme by <a href=https://themes.gohugo.io/hugo-theme-techdoc/>TechDoc</a>. Designed by <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=open-menu><ul><li><a href=https://rust-qt.github.io/>Home</a></li><li><a href=https://rust-qt.github.io/ritual/>About Ritual</a><ul class=sub-menu><li><a href=https://rust-qt.github.io/ritual/setting_up/>Setting up</a></li><li><a href=https://rust-qt.github.io/ritual/running_generator/>Running generator</a></li></ul></li><li class=parent><a href=https://rust-qt.github.io/qt/>Rust + Qt guide</a><ul class=sub-menu><li><a href=https://rust-qt.github.io/qt/setting_up/>Setting up</a></li><li class=active><a href=https://rust-qt.github.io/qt/getting_started/>Getting started</a></li><li><a href=https://rust-qt.github.io/qt/smart_pointers/>Smart pointers</a></li><li><a href=https://rust-qt.github.io/qt/unsafety/>Unsafety</a></li><li><a href=https://rust-qt.github.io/qt/deployment/>Deployment</a></li></ul></li><li><a href=https://rust-qt.github.io/processing_cpp_library/>Processing a C++ library</a><ul class=sub-menu><li><a href=https://rust-qt.github.io/processing_cpp_library/setting_up/>Setting up</a></li><li><a href=https://rust-qt.github.io/processing_cpp_library/running_generator/>Running generator</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i><i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>